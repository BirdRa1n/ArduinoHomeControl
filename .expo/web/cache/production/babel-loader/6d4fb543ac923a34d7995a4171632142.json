{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"isHovered\",\"isFocused\"],_excluded2=[\"InputLeftElement\",\"InputRightElement\",\"leftElement\",\"rightElement\",\"onFocus\",\"onBlur\",\"wrapperRef\"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}import React,{memo,forwardRef}from'react';import Box from\"../Box\";import InputBase from\"./InputBase\";import{useFormControl}from\"../../composites/FormControl\";import{useHasResponsiveProps}from\"../../../hooks/useHasResponsiveProps\";import{useHover}from'@react-native-aria/interactions';import{extractInObject,stylingProps}from\"../../../theme/tools/utils\";import{usePropsResolution}from\"../../../hooks/useThemeProps\";import{mergeRefs}from\"../../../utils\";var Input=function Input(_ref2,ref){var isHoveredProp=_ref2.isHovered,isFocusedProp=_ref2.isFocused,props=_objectWithoutProperties(_ref2,_excluded);var inputProps=useFormControl({isDisabled:props.isDisabled,isInvalid:props.isInvalid,isReadOnly:props.isReadOnly,isRequired:props.isRequired,nativeID:props.nativeID});var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isFocused=_React$useState2[0],setIsFocused=_React$useState2[1];var handleFocus=function handleFocus(focusState,callback){setIsFocused(focusState);callback();};var _ref=React.useRef(null);var _useHover=useHover({},_ref),isHovered=_useHover.isHovered;var inputThemeProps={isDisabled:inputProps.disabled,isInvalid:inputProps.accessibilityInvalid,isReadOnly:inputProps.accessibilityReadOnly,isRequired:inputProps.required};var _usePropsResolution=usePropsResolution('Input',_objectSpread(_objectSpread({},inputThemeProps),props),{isDisabled:inputThemeProps.isDisabled,isHovered:isHoveredProp||isHovered,isFocused:isFocusedProp||isFocused,isInvalid:inputThemeProps.isInvalid,isReadOnly:inputThemeProps.isReadOnly}),InputLeftElement=_usePropsResolution.InputLeftElement,InputRightElement=_usePropsResolution.InputRightElement,leftElement=_usePropsResolution.leftElement,rightElement=_usePropsResolution.rightElement,_onFocus=_usePropsResolution.onFocus,_onBlur=_usePropsResolution.onBlur,wrapperRef=_usePropsResolution.wrapperRef,resolvedProps=_objectWithoutProperties(_usePropsResolution,_excluded2);var _extractInObject=extractInObject(resolvedProps,[].concat(_toConsumableArray(stylingProps.margin),_toConsumableArray(stylingProps.border),_toConsumableArray(stylingProps.layout),_toConsumableArray(stylingProps.flexbox),_toConsumableArray(stylingProps.position),_toConsumableArray(stylingProps.background),['shadow','opacity'])),_extractInObject2=_slicedToArray(_extractInObject,2),layoutProps=_extractInObject2[0],nonLayoutProps=_extractInObject2[1];var _extractInObject3=extractInObject(nonLayoutProps,['variant']),_extractInObject4=_slicedToArray(_extractInObject3,2),baseInputProps=_extractInObject4[1];if(useHasResponsiveProps(props)){return null;}if(InputLeftElement||InputRightElement||leftElement||rightElement){return React.createElement(Box,_extends({display:\"flex\",flexDirection:\"row\",alignItems:\"center\",justifyContent:\"space-between\",overflow:\"hidden\"},layoutProps,{ref:mergeRefs([_ref,wrapperRef])}),InputLeftElement||leftElement?InputLeftElement||leftElement:null,React.createElement(InputBase,_extends({InputLeftElement:InputLeftElement,InputRightElement:InputRightElement,leftElement:leftElement,rightElement:rightElement,inputProps:inputProps,bg:\"transparent\"},baseInputProps,{flex:1,disableFocusHandling:true,ref:ref,variant:\"unstyled\",onFocus:function onFocus(e){handleFocus(true,_onFocus?function(){return _onFocus(e);}:function(){});},onBlur:function onBlur(e){handleFocus(false,_onBlur?function(){return _onBlur(e);}:function(){});}})),InputRightElement||rightElement?InputRightElement||rightElement:null);}else{return React.createElement(InputBase,_extends({inputProps:inputProps,isHovered:isHoveredProp,isFocused:isFocusedProp},props,{ref:ref,onFocus:function onFocus(e){handleFocus(true,_onFocus?function(){return _onFocus(e);}:function(){});},onBlur:function onBlur(e){handleFocus(false,_onBlur?function(){return _onBlur(e);}:function(){});}}));}};export default memo(forwardRef(Input));","map":{"version":3,"sources":["Input.tsx"],"names":["Input","isHovered","isFocused","props","inputProps","useFormControl","isDisabled","isInvalid","isReadOnly","isRequired","nativeID","React","handleFocus","setIsFocused","callback","_ref","useHover","inputThemeProps","required","resolvedProps","usePropsResolution","isHoveredProp","isFocusedProp","extractInObject","stylingProps","useHasResponsiveProps","InputLeftElement","mergeRefs","e","onFocus","onBlur","InputRightElement","memo","forwardRef"],"mappings":"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","sourcesContent":["import React, { memo, forwardRef } from 'react';\nimport Box from '../Box';\nimport type { IInputProps } from './types';\nimport InputBase from './InputBase';\nimport { useFormControl } from '../../composites/FormControl';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\nimport { useHover } from '@react-native-aria/interactions';\nimport { extractInObject, stylingProps } from '../../../theme/tools/utils';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport { mergeRefs } from '../../../utils';\n\nconst Input = (\n  { isHovered: isHoveredProp, isFocused: isFocusedProp, ...props }: IInputProps,\n  ref: any\n) => {\n  const inputProps = useFormControl({\n    isDisabled: props.isDisabled,\n    isInvalid: props.isInvalid,\n    isReadOnly: props.isReadOnly,\n    isRequired: props.isRequired,\n    nativeID: props.nativeID,\n  });\n  const [isFocused, setIsFocused] = React.useState(false);\n  const handleFocus = (focusState: boolean, callback: any) => {\n    setIsFocused(focusState);\n    callback();\n  };\n\n  const _ref = React.useRef(null);\n  const { isHovered } = useHover({}, _ref);\n\n  const inputThemeProps = {\n    isDisabled: inputProps.disabled,\n    isInvalid: inputProps.accessibilityInvalid,\n    isReadOnly: inputProps.accessibilityReadOnly,\n    isRequired: inputProps.required,\n  };\n\n  const {\n    InputLeftElement,\n    InputRightElement,\n    leftElement,\n    rightElement,\n    onFocus,\n    onBlur,\n    wrapperRef,\n    ...resolvedProps\n  } = usePropsResolution(\n    'Input',\n    {\n      ...inputThemeProps,\n      ...props,\n    },\n    {\n      isDisabled: inputThemeProps.isDisabled,\n      isHovered: isHoveredProp || isHovered,\n      isFocused: isFocusedProp || isFocused,\n      isInvalid: inputThemeProps.isInvalid,\n      isReadOnly: inputThemeProps.isReadOnly,\n    }\n  );\n\n  const [layoutProps, nonLayoutProps] = extractInObject(resolvedProps, [\n    ...stylingProps.margin,\n    ...stylingProps.border,\n    ...stylingProps.layout,\n    ...stylingProps.flexbox,\n    ...stylingProps.position,\n    ...stylingProps.background,\n    'shadow',\n    'opacity',\n  ]);\n\n  const [, baseInputProps] = extractInObject(nonLayoutProps, ['variant']);\n\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n  if (InputLeftElement || InputRightElement || leftElement || rightElement) {\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection=\"row\"\n        alignItems=\"center\"\n        justifyContent=\"space-between\"\n        overflow=\"hidden\"\n        {...layoutProps}\n        ref={mergeRefs([_ref, wrapperRef])}\n      >\n        {InputLeftElement || leftElement\n          ? InputLeftElement || leftElement\n          : null}\n        <InputBase\n          InputLeftElement={InputLeftElement}\n          InputRightElement={InputRightElement}\n          leftElement={leftElement}\n          rightElement={rightElement}\n          inputProps={inputProps}\n          bg=\"transparent\"\n          {...baseInputProps}\n          flex={1}\n          disableFocusHandling\n          ref={ref}\n          variant=\"unstyled\"\n          onFocus={(e) => {\n            handleFocus(true, onFocus ? () => onFocus(e) : () => {});\n          }}\n          onBlur={(e) => {\n            handleFocus(false, onBlur ? () => onBlur(e) : () => {});\n          }}\n        />\n        {InputRightElement || rightElement\n          ? InputRightElement || rightElement\n          : null}\n      </Box>\n    );\n  } else {\n    return (\n      <InputBase\n        inputProps={inputProps}\n        isHovered={isHoveredProp}\n        isFocused={isFocusedProp}\n        {...props}\n        ref={ref}\n        onFocus={(e) => {\n          handleFocus(true, onFocus ? () => onFocus(e) : () => {});\n        }}\n        onBlur={(e) => {\n          handleFocus(false, onBlur ? () => onBlur(e) : () => {});\n        }}\n      />\n    );\n  }\n};\n\nexport default memo(forwardRef(Input));\n"]},"metadata":{},"sourceType":"module"}